# IO流

## 一、概念

​	I：input

​	O：output

​	输入输出流。

​	什么叫流？

​		流水。流是一组有顺序的，有起点和终点的字节集合，是对数据传输的总称或抽象，即数据在两设备间

​		的传输称为流，流的本质是数据传输

## 二、IO流的分类

根据数据流向不同分为：输入流和输出流

根据处理数据类型的不同分为：字符流（Reader、Writer）和字节流（inputStream、outputStream）

### 2.1 字符和字节的区别

#### 字节：

​	byte

​	计算机中存储数据的一个单位。比它小的是位（bit，也叫比特），bit是在计算机中数据存储的最小计量单位，每一个bit位，存放的是二进制的数据0和1，如下所示。

![img](https://images2018.cnblogs.com/blog/630246/201711/630246-20171125211922015-1349284482.png)

当然比字节更大的是KB（千字节），1KB = 1024B，再到后面就是MB（兆字节），1MB = 1024KB，GB、TB……

Java中有用于表示字节的数据类型——byte。



#### 字符

字符表示文字和符号。人与人之间通过人类语言进行沟通，计算机通过二进制来进行沟通，当人-计算机-人，中间多了计算机的媒介过后，中间就需要计算机对我们人类的语言符号“编码”进行传输，而计算机-人这个过程又称之为“解码”。这有点类似“加密”“解密”的过程。

　　在计算机刚出现的时候只能传输英文字符，这里的传输包括是显示和存储，前面提到要进行编码存储，既然要编码就需要一张表来表示A是什么，B是什么，就好比摩斯密码中的密码本一样。那时的“码表”也就是编码方式叫做ASCII。

![img](https://images2018.cnblogs.com/blog/630246/201711/630246-20171125212220187-998134665.png)

在Java中使用的就是UNICODE编码，这符合Java跨平台的特性，这也就解释了Java中char字符的数据类型占用的是2个字节，因为Java使用UNICODE编码，而UNICODE是2个字节表示1个字符

![img](https://images2018.cnblogs.com/blog/630246/201711/630246-20171125212346687-1099639601.png)



　可以看出，这就白白地浪费掉了1个字节的空间，

由于UNICODE给任意字符都是采用的2个字节表示1个字符，会造成空间浪费，所以在UNICODE编码基础上，又出现了可变长编码的UTF-8编码，这种编码方式会灵活地进行字符的空间分配，不同字符所占用的内存空间不相同，在保证兼容性的同时，也保证了空间的最合理使用。



### 2.2 字符流和字节流

### 

字符流的由来： 因为数据编码的不同，而有了对字符进行高效操作的流对象。本质其实就是基于字节流读取时，去查了指定的码表。字节流和字符流的区别：

（1）读写单位不同：字节流以字节（8bit）为单位，字符流以字符为单位，根据码表映射字符，一次可能读多个字节。

（2）处理对象不同：字节流能处理所有类型的数据（如图片、avi等），而字符流只能处理字符类型的数据。

（3）字节流在操作的时候本身是不会用到缓冲区的，是文件本身的直接操作的；而字符流在操作的时候下后是会用到缓冲区的，是通过缓冲区来操作文件，我们将在下面验证这一点。

结论：优先选用字节流。首先因为硬盘上的所有文件都是以字节的形式进行传输或者保存的，包括图片等内容。但是字符只是在内存中才会形成的，所以在开发中，字节流使用广泛。



## 三、java中IO的结构

![img](https://images2015.cnblogs.com/blog/999727/201611/999727-20161109130405092-2025696523.png)